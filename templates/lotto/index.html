{% extends 'base.html' %}

{% block title %}로또 번호 추첨기 - 무료 로또 번호 생성 및 당첨번호 확인{% endblock %}

{% block description %}무료 로또 번호 추첨기로 1등 당첨을 위한 번호를 생성하세요. 최근 당첨번호 확인, 번호 조합 분석, 당첨 확률 계산 등 다양한 기능을 제공합니다.{% endblock %}

{% block keywords %}로또 번호 추첨기, 로또 번호 생성, 당첨번호 확인, 로또 번호 조합, 로또 당첨 확률, 무료 로또 번호, 로또 1등, 로또 당첨금, 로또 구매{% endblock %}

{% block og_title %}로또 번호 추첨기 - 무료 로또 번호 생성 및 당첨번호 확인{% endblock %}

{% block og_description %}무료 로또 번호 추첨기로 1등 당첨을 위한 번호를 생성하세요. 최근 당첨번호 확인, 번호 조합 분석, 당첨 확률 계산 등 다양한 기능을 제공합니다.{% endblock %}

{% block canonical_url %}https://hmyun.pythonanywhere.com/{% endblock %}

{% block extra_meta %}
<!-- 구조화된 데이터 - 웹 애플리케이션 -->
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "로또 번호 추첨기",
    "description": "무료 로또 번호 추첨기로 1등 당첨을 위한 번호를 생성하세요. 최근 당첨번호 확인, 번호 조합 분석, 당첨 확률 계산 등 다양한 기능을 제공합니다.",
    "url": "https://hmyun.pythonanywhere.com",
    "applicationCategory": "Game",
    "operatingSystem": "Any",
    "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "KRW"
    },
    "author": {
        "@type": "Person",
        "name": "hmyun"
    }
}
</script>

<!-- 구조화된 데이터 - FAQ -->
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
        {
            "@type": "Question",
            "name": "로또 번호는 어떻게 생성되나요?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "로또 번호는 1부터 45까지의 숫자 중 무작위로 6개를 선택합니다. 보너스 번호는 나머지 숫자 중 하나를 선택합니다."
            }
        },
        {
            "@type": "Question",
            "name": "로또 당첨 확인은 어떻게 하나요?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "로또 당첨 확인은 로또 판매점이나 온라인에서 가능합니다. 당첨번호와 일치하는 번호를 확인하세요."
            }
        },
        {
            "@type": "Question",
            "name": "로또 당첨금은 어떻게 받나요?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "로또 당첨금은 로또 판매점에서 당첨 확인 후 수령할 수 있습니다. 1등 당첨의 경우 본사에서 직접 수령해야 합니다."
            }
        }
    ]
}
</script>
{% endblock %}

{% block content %}
<main class="container">
    <article class="row">
        <div class="col-lg-8 mx-auto">
            <header class="mb-4">
                <h1 class="text-center">로또 번호 추첨기</h1>
                <p class="lead text-center">무료로 사용할 수 있는 로또 번호 추첨기로 1등 당첨을 위한 번호를 생성하세요.</p>
            </header>

            <!-- 번호 추첨 카드 -->
            <section class="card mb-4">
                <div class="card-header">
                    <i class="fas fa-random"></i> 로또 번호 추첨
                </div>
                <div class="card-body">
                    <p class="card-text">버튼을 클릭하면 1부터 45까지의 숫자 중 무작위로 6개의 번호가 선택됩니다.</p>
                    <div class="mb-3">
                        <label for="excludeNumbers" class="form-label">제외할 번호 (쉼표로 구분)</label>
                        <input type="text" class="form-control" id="excludeNumbers" placeholder="예: 1, 2, 3">
                        <div class="form-text">제외하고 싶은 번호를 쉼표로 구분하여 입력하세요 (1-45 사이의 숫자)</div>
                    </div>
                    <button id="generateBtn" class="btn btn-primary btn-lg w-100">
                        <i class="fas fa-sync-alt"></i> 번호 추첨하기
                    </button>
                    
                    <div class="loading">
                        <div class="spin"><i class="fas fa-spinner fa-2x"></i></div>
                        <p>추첨 중...</p>
                    </div>
                    
                    <div id="lottoResult" class="text-center mt-4" style="min-height: 80px;">
                        <!-- 추첨된 번호가 여기에 표시됩니다 -->
                    </div>
                </div>
            </section>
            
            <!-- 광고 영역 1 -->
            <section class="text-center mb-4">
                <ins class="adsbygoogle"
                     style="display:block"
                     data-ad-client="ca-pub-9260525121131483"
                     data-ad-slot="auto"
                     data-ad-format="auto"
                     data-full-width-responsive="true"></ins>
                <script>
                     (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </section>
            
            <!-- 최신 당첨번호 카드 -->
            {% if latest_draw %}
            <section class="card mb-4">
                <div class="card-header bg-primary text-white">
                    <i class="fas fa-trophy"></i> 최신 당첨번호 ({{ latest_draw.round }}회)
                </div>
                <div class="card-body text-center">
                    <p class="mb-2"><strong>추첨일:</strong> {{ latest_draw.date }}</p>
                    <div class="d-flex flex-wrap justify-content-center align-items-center mb-3">
                        {% for number in latest_draw.number %}
                            {% if number >= 1 and number <= 10 %}
                                <div class="lotto-ball history-ball ball-1-10">{{ number }}</div>
                            {% elif number >= 11 and number <= 20 %}
                                <div class="lotto-ball history-ball ball-11-20">{{ number }}</div>
                            {% elif number >= 21 and number <= 30 %}
                                <div class="lotto-ball history-ball ball-21-30">{{ number }}</div>
                            {% elif number >= 31 and number <= 40 %}
                                <div class="lotto-ball history-ball ball-31-40">{{ number }}</div>
                            {% else %}
                                <div class="lotto-ball history-ball ball-41-45">{{ number }}</div>
                            {% endif %}
                        {% endfor %}
                        <span class="mx-3 fs-4">+</span>
                        {% if latest_draw.bonus >= 1 and latest_draw.bonus <= 10 %}
                            <div class="lotto-ball history-ball ball-1-10" style="border: 3px solid #ff6b6b;">{{ latest_draw.bonus }}</div>
                        {% elif latest_draw.bonus >= 11 and latest_draw.bonus <= 20 %}
                            <div class="lotto-ball history-ball ball-11-20" style="border: 3px solid #ff6b6b;">{{ latest_draw.bonus }}</div>
                        {% elif latest_draw.bonus >= 21 and latest_draw.bonus <= 30 %}
                            <div class="lotto-ball history-ball ball-21-30" style="border: 3px solid #ff6b6b;">{{ latest_draw.bonus }}</div>
                        {% elif latest_draw.bonus >= 31 and latest_draw.bonus <= 40 %}
                            <div class="lotto-ball history-ball ball-31-40" style="border: 3px solid #ff6b6b;">{{ latest_draw.bonus }}</div>
                        {% else %}
                            <div class="lotto-ball history-ball ball-41-45" style="border: 3px solid #ff6b6b;">{{ latest_draw.bonus }}</div>
                        {% endif %}
                    </div>
                    <small class="text-muted">보너스번호는 빨간색 테두리로 표시됩니다</small>
                </div>
            </section>
            {% endif %}

            <!-- 최근 당첨 번호 -->
            <section class="card mb-4">
                <div class="card-header">
                    <i class="fas fa-history"></i> 최근 당첨 번호
                </div>
                <div class="card-body">
                    <div id="recentDraws">
                        <div class="table-responsive">
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>회차</th>
                                        <th>당첨일</th>
                                        <th>당첨번호</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for draw in recent_draws %}
                                    <tr>
                                        <td>{{ draw.round }}회</td>
                                        <td>{{ draw.date }}</td>
                                        <td>
                                            <div class="d-flex flex-wrap justify-content-center">
                                                {% for number in draw.number %}
                                                    {% if number >= 1 and number <= 10 %}
                                                        <div class="lotto-ball history-ball ball-1-10">{{ number }}</div>
                                                    {% elif number >= 11 and number <= 20 %}
                                                        <div class="lotto-ball history-ball ball-11-20">{{ number }}</div>
                                                    {% elif number >= 21 and number <= 30 %}
                                                        <div class="lotto-ball history-ball ball-21-30">{{ number }}</div>
                                                    {% elif number >= 31 and number <= 40 %}
                                                        <div class="lotto-ball history-ball ball-31-40">{{ number }}</div>
                                                    {% else %}
                                                        <div class="lotto-ball history-ball ball-41-45">{{ number }}</div>
                                                    {% endif %}
                                                {% endfor %}
                                                <span class="mx-2">+</span>
                                                {% if draw.bonus >= 1 and draw.bonus <= 10 %}
                                                    <div class="lotto-ball history-ball ball-1-10">{{ draw.bonus }}</div>
                                                {% elif draw.bonus >= 11 and draw.bonus <= 20 %}
                                                    <div class="lotto-ball history-ball ball-11-20">{{ draw.bonus }}</div>
                                                {% elif draw.bonus >= 21 and draw.bonus <= 30 %}
                                                    <div class="lotto-ball history-ball ball-21-30">{{ draw.bonus }}</div>
                                                {% elif draw.bonus >= 31 and draw.bonus <= 40 %}
                                                    <div class="lotto-ball history-ball ball-31-40">{{ draw.bonus }}</div>
                                                {% else %}
                                                    <div class="lotto-ball history-ball ball-41-45">{{ draw.bonus }}</div>
                                                {% endif %}
                                            </div>
                                        </td>
                                    </tr>
                                    {% empty %}
                                    <tr>
                                        <td colspan="3" class="text-center text-muted">데이터를 불러올 수 없습니다.</td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 번호 통계 섹션 -->
            {% if statistics %}
            <section class="card mb-4">
                <div class="card-header">
                    <i class="fas fa-chart-line"></i> 최근 {{ statistics.total_rounds }}회차 번호 통계
                </div>
                <div class="card-body">
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle"></i> 
                        <strong>주의:</strong> 이 통계는 참고용일 뿐, 로또는 완전한 확률 게임으로 과거 결과가 미래에 영향을 주지 않습니다.
                    </div>
                    
                    <div class="row">
                        <div class="col-md-8">
                            <h5><i class="fas fa-fire"></i> 자주 나온 번호 (TOP 10)</h5>
                            <div class="row">
                                {% for number, count in statistics.number_frequency|slice:":10" %}
                                <div class="col-6 col-md-4 col-lg-3 mb-2">
                                    <div class="d-flex align-items-center">
                                        {% if number >= 1 and number <= 10 %}
                                            <div class="lotto-ball history-ball ball-1-10 me-2">{{ number }}</div>
                                        {% elif number >= 11 and number <= 20 %}
                                            <div class="lotto-ball history-ball ball-11-20 me-2">{{ number }}</div>
                                        {% elif number >= 21 and number <= 30 %}
                                            <div class="lotto-ball history-ball ball-21-30 me-2">{{ number }}</div>
                                        {% elif number >= 31 and number <= 40 %}
                                            <div class="lotto-ball history-ball ball-31-40 me-2">{{ number }}</div>
                                        {% else %}
                                            <div class="lotto-ball history-ball ball-41-45 me-2">{{ number }}</div>
                                        {% endif %}
                                        <small class="text-muted">{{ count }}회</small>
                                    </div>
                                </div>
                                {% endfor %}
                            </div>
                        </div>
                        
                        <div class="col-md-4">
                            <h5><i class="fas fa-plus-circle"></i> 자주 나온 보너스번호</h5>
                            {% for number, count in statistics.bonus_frequency|slice:":5" %}
                            <div class="d-flex align-items-center mb-2">
                                {% if number >= 1 and number <= 10 %}
                                    <div class="lotto-ball history-ball ball-1-10 me-2" style="border: 2px solid #ff6b6b;">{{ number }}</div>
                                {% elif number >= 11 and number <= 20 %}
                                    <div class="lotto-ball history-ball ball-11-20 me-2" style="border: 2px solid #ff6b6b;">{{ number }}</div>
                                {% elif number >= 21 and number <= 30 %}
                                    <div class="lotto-ball history-ball ball-21-30 me-2" style="border: 2px solid #ff6b6b;">{{ number }}</div>
                                {% elif number >= 31 and number <= 40 %}
                                    <div class="lotto-ball history-ball ball-31-40 me-2" style="border: 2px solid #ff6b6b;">{{ number }}</div>
                                {% else %}
                                    <div class="lotto-ball history-ball ball-41-45 me-2" style="border: 2px solid #ff6b6b;">{{ number }}</div>
                                {% endif %}
                                <small class="text-muted">{{ count }}회</small>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </section>
            {% endif %}

            <!-- 로또 정보 섹션 -->
            <section class="card mb-4">
                <div class="card-header">
                    <i class="fas fa-info-circle"></i> 로또 정보
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h3><i class="fas fa-percentage"></i> 로또 당첨 확률</h3>
                            <div class="table-responsive">
                                <table class="table table-sm">
                                    <thead>
                                        <tr>
                                            <th>등수</th>
                                            <th>당첨 확률</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>1등</td>
                                            <td>1/8,145,060</td>
                                        </tr>
                                        <tr>
                                            <td>2등</td>
                                            <td>1/1,357,510</td>
                                        </tr>
                                        <tr>
                                            <td>3등</td>
                                            <td>1/35,724</td>
                                        </tr>
                                        <tr>
                                            <td>4등</td>
                                            <td>1/733</td>
                                        </tr>
                                        <tr>
                                            <td>5등</td>
                                            <td>1/45</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <h3><i class="fas fa-won-sign"></i> 로또 당첨금</h3>
                            <p>로또 1등 당첨금은 판매금액과 당첨자 수에 따라 달라집니다:</p>
                            <ul>
                                <li><strong>1등:</strong> 약 15~30억원</li>
                                <li><strong>2등:</strong> 약 3~8천만원</li>
                                <li><strong>3등:</strong> 약 100~200만원</li>
                                <li><strong>4등:</strong> 고정 5만원</li>
                                <li><strong>5등:</strong> 고정 5천원</li>
                            </ul>
                        </div>
                    </div>
                    
                    <hr class="my-4">
                    
                    <div class="row">
                        <div class="col-md-6">
                            <h3><i class="fas fa-shopping-cart"></i> 로또 구매 방법</h3>
                            <p>로또는 다음과 같은 방법으로 구매할 수 있습니다:</p>
                            <ul>
                                <li>전국 로또 판매점 방문 구매</li>
                                <li>동행복권 온라인 사이트</li>
                                <li>동행복권 모바일 앱</li>
                                <li>인터넷 뱅킹 복권 서비스</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h3><i class="fas fa-clock"></i> 로또 추첨 일정</h3>
                            <p>로또는 매주 정기적으로 추첨됩니다:</p>
                            <ul>
                                <li><strong>추첨일:</strong> 매주 토요일</li>
                                <li><strong>추첨시간:</strong> 오후 8시 45분</li>
                                <li><strong>판매마감:</strong> 토요일 오후 8시</li>
                                <li><strong>판매시작:</strong> 일요일 오전 6시</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 광고 영역 2 -->
            <section class="text-center mb-4">
                <ins class="adsbygoogle"
                     style="display:block"
                     data-ad-client="ca-pub-9260525121131483"
                     data-ad-slot="auto"
                     data-ad-format="auto"
                     data-full-width-responsive="true"></ins>
                <script>
                     (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </section>

            <!-- 로또 번호 분석 섹션 -->
            <section class="card mb-4">
                <div class="card-header">
                    <i class="fas fa-chart-bar"></i> 로또 번호 분석
                </div>
                <div class="card-body">
                    <div class="alert alert-warning">
                        <h5><i class="fas fa-exclamation-triangle"></i> 중요한 사실</h5>
                        <p class="mb-0">로또는 완전한 확률 게임입니다. 과거 당첨번호나 통계는 미래 결과에 영향을 주지 않습니다. 모든 번호는 매 회차마다 동일한 확률로 선택됩니다.</p>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <h4>번호 선택 팁</h4>
                            <ul>
                                <li>고른 분포로 번호 선택</li>
                                <li>연속된 번호 피하기</li>
                                <li>홀수와 짝수 균형</li>
                                <li>높은 번호와 낮은 번호 균형</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h4>주의사항</h4>
                            <ul>
                                <li>과도한 구매는 금물</li>
                                <li>생활비 범위 내에서 구매</li>
                                <li>당첨을 확신하지 말 것</li>
                                <li>재미로 즐기는 것이 중요</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- FAQ 섹션 -->
            <section class="card mb-4">
                <div class="card-header">
                    <i class="fas fa-question-circle"></i> 자주 묻는 질문
                </div>
                <div class="card-body">
                    <div class="accordion" id="faqAccordion">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="faq1">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1" aria-expanded="true" aria-controls="collapse1">
                                    로또 번호는 어떻게 생성되나요?
                                </button>
                            </h2>
                            <div id="collapse1" class="accordion-collapse collapse show" aria-labelledby="faq1" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    <p>로또 번호는 1부터 45까지의 숫자 중 무작위로 6개를 선택합니다. 본 사이트에서는 컴퓨터의 난수 생성기를 사용하여 완전히 무작위로 번호를 생성합니다.</p>
                                    <p>실제 로또 추첨에서는 추첨기를 통해 물리적으로 번호가 선택되며, 보너스 번호는 나머지 39개 숫자 중 하나를 선택합니다.</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="faq2">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2" aria-expanded="false" aria-controls="collapse2">
                                    로또 당첨 확인은 어떻게 하나요?
                                </button>
                            </h2>
                            <div id="collapse2" class="accordion-collapse collapse" aria-labelledby="faq2" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    <p>로또 당첨 확인은 다음과 같은 방법으로 가능합니다:</p>
                                    <ul>
                                        <li><strong>로또 판매점:</strong> 구매한 복권을 가져가서 확인</li>
                                        <li><strong>동행복권 홈페이지:</strong> 온라인으로 당첨번호 확인</li>
                                        <li><strong>동행복권 모바일 앱:</strong> 스마트폰으로 간편 확인</li>
                                        <li><strong>TV 방송:</strong> 매주 토요일 추첨 방송 시청</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="faq3">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3" aria-expanded="false" aria-controls="collapse3">
                                    로또 당첨금은 어떻게 받나요?
                                </button>
                            </h2>
                            <div id="collapse3" class="accordion-collapse collapse" aria-labelledby="faq3" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    <p>당첨금 수령 방법은 당첨 등수에 따라 다릅니다:</p>
                                    <ul>
                                        <li><strong>5등 (5천원):</strong> 로또 판매점에서 즉시 수령</li>
                                        <li><strong>4등 (5만원):</strong> 로또 판매점에서 즉시 수령</li>
                                        <li><strong>3등 이상:</strong> 농협은행 본·지점 또는 동행복권 본사에서 수령</li>
                                        <li><strong>1등:</strong> 신분증, 도장, 통장 지참하여 동행복권 본사 방문</li>
                                    </ul>
                                    <p><strong>유의사항:</strong> 당첨금 수령 기한은 지급개시일로부터 1년입니다.</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="faq4">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4" aria-expanded="false" aria-controls="collapse4">
                                    이 사이트의 번호로 당첨이 보장되나요?
                                </button>
                            </h2>
                            <div id="collapse4" class="accordion-collapse collapse" aria-labelledby="faq4" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    <p><strong>아니요, 당첨을 보장하지 않습니다.</strong> 본 사이트는 단순히 무작위 번호를 생성하는 도구일 뿐입니다.</p>
                                    <p>로또는 완전한 확률 게임으로, 어떤 방법으로 번호를 선택하든 당첨 확률은 동일합니다. 이 사이트는 번호 선택에 도움을 주는 도구로만 사용하시기 바랍니다.</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="faq5">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5" aria-expanded="false" aria-controls="collapse5">
                                    로또 세금은 얼마나 내야 하나요?
                                </button>
                            </h2>
                            <div id="collapse5" class="accordion-collapse collapse" aria-labelledby="faq5" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    <p>로또 당첨금에 대한 세금은 다음과 같습니다:</p>
                                    <ul>
                                        <li><strong>소득세:</strong> 당첨금의 22%</li>
                                        <li><strong>지방소득세:</strong> 당첨금의 2.2%</li>
                                        <li><strong>총 세율:</strong> 24.2%</li>
                                    </ul>
                                    <p><strong>예시:</strong> 20억원 당첨 시 약 4억 8천만원의 세금을 납부해야 합니다.</p>
                                    <p>세금은 당첨금 지급 시 자동으로 원천징수됩니다.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 푸터 섹션 -->
            <footer class="text-center py-4 mt-5" style="background-color: #f8f9fa; border-top: 1px solid #dee2e6;">
                <div class="container">
                    <div class="row">
                        <div class="col-md-12">
                            <h5 class="mb-3">로또 번호 추첨기</h5>
                            <p class="mb-3">무료로 사용할 수 있는 로또 번호 생성 도구입니다. 행운의 번호를 찾아보세요!</p>
                            
                            <div class="row mb-4">
                                <div class="col-md-4">
                                    <h6>서비스</h6>
                                    <ul class="list-unstyled">
                                        <li><a href="{% url 'lotto_main' %}" class="text-decoration-none">로또 번호 생성</a></li>
                                        <li><a href="{% url 'about' %}" class="text-decoration-none">사이트 소개</a></li>
                                    </ul>
                                </div>
                                <div class="col-md-4">
                                    <h6>정보</h6>
                                    <ul class="list-unstyled">
                                        <li><a href="https://www.dhlottery.co.kr/" target="_blank" rel="noopener" class="text-decoration-none">동행복권 공식사이트</a></li>
                                        <li><a href="https://www.dhlottery.co.kr/gameResult.do?method=byWin" target="_blank" rel="noopener" class="text-decoration-none">당첨번호 확인</a></li>
                                    </ul>
                                </div>
                                <div class="col-md-4">
                                    <h6>정책</h6>
                                    <ul class="list-unstyled">
                                        <li><a href="{% url 'privacy' %}" class="text-decoration-none">개인정보 처리방침</a></li>
                                        <li><a href="{% url 'terms' %}" class="text-decoration-none">이용약관</a></li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="alert alert-warning mb-3">
                                <small><i class="fas fa-exclamation-triangle"></i> 본 사이트는 로또 번호 생성 도구로, 실제 로또 당첨을 보장하지 않습니다. 로또는 확률 게임이므로 책임감 있게 이용하시기 바랍니다.</small>
                            </div>
                            
                            <p class="mb-2">© 2025 로또 번호 추첨기. All rights reserved.</p>
                            <p class="mb-0 text-muted">
                                <small>운영자: hmyun | 
                                <a href="mailto:contact@example.com" class="text-decoration-none">문의하기</a> | 
                                마지막 업데이트: 2025년 7월</small>
                            </p>
                        </div>
                    </div>
                </div>
            </footer>
        </div>
    </article>
</main>
{% endblock %}

{% block extra_js %}
<script>
    $(document).ready(function() {
        // 번호 생성 버튼 클릭 이벤트
        $("#generateBtn").click(function() {
            generateLottoNumbers();
        });
        
        // 로또 번호 생성 함수
        function generateLottoNumbers() {
            $("#lottoResult").empty();
            $(".loading").show();
            
            // 사용자가 입력한 제외할 번호 처리
            const excludeNumbersInput = $("#excludeNumbers").val().trim();
            let excludeNumbers = [];
            if (excludeNumbersInput) {
                excludeNumbers = excludeNumbersInput.split(',').map(num => parseInt(num.trim())).filter(num => !isNaN(num) && num >= 1 && num <= 45);
            }
            
            // 서버 API 호출
            fetch(`/lottery/numbers?exclude_numbers=${excludeNumbers.join(',')}`)
                .then(response => response.json())
                .then(numbers => {
                    // 결과 표시
                    numbers.forEach((number, index) => {
                        // 번호 등장에 약간의 애니메이션 효과를 주기 위한 지연
                        setTimeout(() => {
                            $("#lottoResult").append(getBallHTML(number));
                        }, index * 300);
                    });
                    
                    $(".loading").hide();
                })
                .catch(error => {
                    $("#lottoResult").html('<div class="alert alert-danger">번호 생성 중 오류가 발생했습니다.</div>');
                    $(".loading").hide();
                    console.error("API 호출 오류:", error);
                });
        }
        
        // 로또 볼 HTML 생성 함수
        function getBallHTML(number, extraClass = '') {
            let ballClass = 'lotto-ball ';
            
            // 번호 범위에 따른 색상 클래스 추가
            if (number >= 1 && number <= 10) {
                ballClass += 'ball-1-10';
            } else if (number >= 11 && number <= 20) {
                ballClass += 'ball-11-20';
            } else if (number >= 21 && number <= 30) {
                ballClass += 'ball-21-30';
            } else if (number >= 31 && number <= 40) {
                ballClass += 'ball-31-40';
            } else {
                ballClass += 'ball-41-45';
            }
            
            // 추가 클래스가 있으면 추가
            if (extraClass) {
                ballClass += ' ' + extraClass;
            }
            
            return `<div class="${ballClass}">${number}</div>`;
        }
    });
</script>
{% endblock %} 